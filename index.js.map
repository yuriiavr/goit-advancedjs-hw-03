{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '50907676-d0d9b555ff9217a4c5273e1b0';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport async function fetchImages(query) {\r\n  const url = new URL(BASE_URL);\r\n  url.searchParams.append('key', API_KEY);\r\n  url.searchParams.append('q', query);\r\n  url.searchParams.append('image_type', 'photo');\r\n  url.searchParams.append('orientation', 'horizontal');\r\n  url.searchParams.append('safesearch', 'true');\r\n\r\n  const response = await fetch(url);\r\n  if (!response.ok) {\r\n    throw new Error('Network error');\r\n  }\r\n\r\n  return await response.json();\r\n}\r\n","export function renderGallery(images) {\r\n  return images\r\n    .map(\r\n      ({\r\n        webformatURL,\r\n        largeImageURL,\r\n        tags,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n      }) => `\r\n      <a class=\"gallery__item\" href=\"${largeImageURL}\">\r\n        <div class=\"photo-card\">\r\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\r\n          <div class=\"info\">\r\n            <p><b>Likes</b> ${likes}</p>\r\n            <p><b>Views</b> ${views}</p>\r\n            <p><b>Comments</b> ${comments}</p>\r\n            <p><b>Downloads</b> ${downloads}</p>\r\n          </div>\r\n        </div>\r\n      </a>\r\n    `\r\n    )\r\n    .join('');\r\n}\r\n\r\nexport function clearGallery(container) {\r\n  container.innerHTML = '';\r\n}\r\n","import './css/styles.css';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nimport iziToast from 'izitoast';\r\nimport SimpleLightbox from 'simplelightbox';\r\n\r\nimport { fetchImages } from './js/pixabay-api';\r\nimport { renderGallery, clearGallery } from './js/render-functions';\r\n\r\nconst form = document.querySelector('#search-form');\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.loader');\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a');\r\n\r\nform.addEventListener('submit', async e => {\r\n  e.preventDefault();\r\n\r\n  const query = form.elements.searchQuery.value.trim();\r\n\r\n  if (!query) {\r\n    iziToast.warning({\r\n      title: 'Warning',\r\n      message: 'Please enter a search query!',\r\n    });\r\n    return;\r\n  }\r\n\r\n  clearGallery(gallery);\r\n  showLoader();\r\n\r\n  try {\r\n    const data = await fetchImages(query);\r\n\r\n    if (data.hits.length === 0) {\r\n      iziToast.info({\r\n        title: 'No Results',\r\n        message: 'Sorry, there are no images matching your search query. Please try again!',\r\n      });\r\n    } else {\r\n      const markup = renderGallery(data.hits);\r\n      gallery.insertAdjacentHTML('beforeend', markup);\r\n      lightbox.refresh();\r\n    }\r\n  } catch (error) {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      message: error.message,\r\n    });\r\n  } finally {\r\n    hideLoader();\r\n  }\r\n});\r\n\r\nfunction showLoader() {\r\n  loader.classList.remove('hidden');\r\n}\r\n\r\nfunction hideLoader() {\r\n  loader.classList.add('hidden');\r\n}\r\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","renderGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","container","form","gallery","loader","lightbox","SimpleLightbox","e","iziToast","showLoader","data","markup","error","hideLoader"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,IAAI,IAAIH,CAAQ,EAC5BG,EAAI,aAAa,OAAO,MAAOJ,CAAO,EACtCI,EAAI,aAAa,OAAO,IAAKD,CAAK,EAClCC,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,MAAM,EAE5C,MAAMC,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,eAAe,EAGjC,OAAO,MAAMA,EAAS,MACxB,CCjBO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,uCAC2BL,CAAa;AAAA;AAAA,sBAE9BD,CAAY,UAAUE,CAAI;AAAA;AAAA,8BAElBC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKtC,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaC,EAAW,CACtCA,EAAU,UAAY,EACxB,CCpBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,YAAY,EAEhDJ,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMnB,EAAQc,EAAK,SAAS,YAAY,MAAM,OAE9C,GAAI,CAACd,EAAO,CACVoB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDR,EAAaG,CAAO,EACpBM,IAEA,GAAI,CACF,MAAMC,EAAO,MAAMvB,EAAYC,CAAK,EAEpC,GAAIsB,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACjB,CAAO,MACI,CACL,MAAMG,EAASpB,EAAcmB,EAAK,IAAI,EACtCP,EAAQ,mBAAmB,YAAaQ,CAAM,EAC9CN,EAAS,QAAO,CACjB,CACF,OAAQO,EAAO,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QAASI,EAAM,OACrB,CAAK,CACL,QAAY,CACRC,GACD,CACH,CAAC,EAED,SAASJ,GAAa,CACpBL,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASS,GAAa,CACpBT,EAAO,UAAU,IAAI,QAAQ,CAC/B"}